# Groq Configuration
GROQ_API_KEY=your_groq_api_key_here  # API key for Groq LLM service to generate fresh responses

# Qdrant Configuration
QDRANT_URL=http://localhost:6333  # URL endpoint for Qdrant vector database storing semantic embeddings
QDRANT_API_KEY=your_qdrant_api_key_here  # Optional API key for Qdrant authentication (leave empty for local)

# Database Configuration
DATABASE_URL=sqlite:///data/semantic_cache.db  # SQLite database URL for storing cache metadata and access logs

# Redis Configuration for Celery
CELERY_BROKER_URL=redis://localhost:6379/0  # Redis URL for Celery message broker (background tasks)
CELERY_RESULT_BACKEND=redis://localhost:6379/0  # Redis URL for storing Celery task results

# Cleanup Configuration
CLEANUP_BATCH_SIZE=100  # Number of expired entries to process in each cleanup batch
CLEANUP_INTERVAL_MINUTES=3  # How often (in minutes) to run automatic cache cleanup
EXPIRED_ENTRY_GRACE_PERIOD_MINUTES=1  # Grace period before actually deleting expired entries

# Logging
LOG_LEVEL=INFO  # Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)

# Cache Configuration
CACHE_SIMILARITY_THRESHOLD=0.65  # Minimum cosine similarity score for cache hits
CROSS_ENCODER_THRESHOLD=0.7  # Minimum cross-encoder score for accepting cached responses
MAX_CACHE_SIZE=10000  # Maximum number of entries in cache before auto-cleanup

# Hybrid Search Configuration
HYBRID_SEARCH_ENABLED=true  # Enable hybrid search combining BM25 + dense embeddings
BM25_K1=1.5  # BM25 term frequency saturation parameter (higher = less saturation)
BM25_B=0.75  # BM25 length normalization parameter (0=no norm, 1=full norm)
DENSE_WEIGHT=0.7  # Weight for dense embedding scores in hybrid search (0-1)
BM25_WEIGHT=0.3  # Weight for BM25 scores in hybrid search (should sum to 1 with dense)

# TTL Configuration (in seconds)
DEFAULT_TTL_EVERGREEN=86400  # Cache lifetime for evergreen content (24 hours)
DEFAULT_TTL_TIME_SENSITIVE=3600  # Cache lifetime for time-sensitive queries (1 hour)
DEFAULT_TTL_SEMI_DYNAMIC=14400  # Cache lifetime for semi-dynamic content (4 hours)

# Model Configuration
EMBEDDING_MODEL=BAAI/bge-large-en-v1.5  # HuggingFace model for generating query embeddings
CROSS_ENCODER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2  # Model for re-ranking candidates
EMBEDDING_DIMENSION=1024  # Dimension of embedding vectors (must match model output)

# Performance Configuration
BATCH_SIZE=32  # Batch size for processing multiple embeddings/cross-encoder scores
MAX_EMBEDDING_CACHE_SIZE=1000  # Maximum number of embeddings to cache in memory

# Search Configuration
TOP_K_CANDIDATES=20  # Number of initial candidates to retrieve from vector search
FINAL_TOP_K=5  # Number of top results to log for debugging purposes
HYBRID_RETRIEVAL_MULTIPLIER=2  # Multiplier for initial retrieval (gets TOP_K_CANDIDATES * this)